<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Data Transformation 4: Fine-tuned Data Manipulation | Introduction to R</title>
  <meta name="description" content="This is the course handbook for the Glasgow University Open Studies course Introduction to R, academic session 2019-2020." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Data Transformation 4: Fine-tuned Data Manipulation | Introduction to R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is the course handbook for the Glasgow University Open Studies course Introduction to R, academic session 2019-2020." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Data Transformation 4: Fine-tuned Data Manipulation | Introduction to R" />
  
  <meta name="twitter:description" content="This is the course handbook for the Glasgow University Open Studies course Introduction to R, academic session 2019-2020." />
  

<meta name="author" content="Gaby Mahrholz, Greta Todorova, Wilhelmiina Toivo, and Jaimie Torrance" />


<meta name="date" content="2022-03-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-transformation-3-tidy-data.html"/>
<link rel="next" href="data-visualisation-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to R</a></li>

<li class="divider"></li>
<li><a href="index.html#about-this-course">About this course<span></span></a>
<ul>
<li><a href="index.html#intended-learning-outcomes">Intended Learning Outcomes<span></span></a></li>
<li><a href="index.html#what-will-i-need-to-complete-this-course">What will I need to complete this course?<span></span></a></li>
<li><a href="index.html#about-the-assessments">About the Assessments<span></span></a>
<ul>
<li><a href="index.html#formative-assessments">Formative Assessments<span></span></a></li>
<li><a href="index.html#summative-assessments">Summative Assessments<span></span></a></li>
<li><a href="index.html#late-submissions-extensions">Late submissions &amp; extensions<span></span></a></li>
<li><a href="index.html#how-to-submit-your-assessments">How to Submit Your Assessments<span></span></a></li>
</ul></li>
<li><a href="index.html#assistance">Assistance<span></span></a></li>
<li><a href="index.html#why-are-these-materials-open">Why are these materials open?<span></span></a></li>
<li><a href="index.html#acknowledgement">Acknowledgement<span></span></a></li>
</ul></li>
<li><a href="before.html#before">Assignment before starting the course<span></span></a>
<ul>
<li class="chapter" data-level="0.1" data-path="before.html"><a href="before.html"><i class="fa fa-check"></i><b>0.1</b> Access to RStudio<span></span></a>
<ul>
<li class="chapter" data-level="0.1.1" data-path="before.html"><a href="before.html#install"><i class="fa fa-check"></i><b>0.1.1</b> Installing R and RStudio on Your Own Machine<span></span></a></li>
<li class="chapter" data-level="0.1.2" data-path="before.html"><a href="before.html#accessing-rstudio-on-university-computers"><i class="fa fa-check"></i><b>0.1.2</b> Accessing RStudio on University Computers<span></span></a></li>
<li class="chapter" data-level="0.1.3" data-path="before.html"><a href="before.html#using-rstudio-cloud"><i class="fa fa-check"></i><b>0.1.3</b> Using RStudio Cloud<span></span></a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="before.html"><a href="before.html#maximising-reproducibility-and-visibility"><i class="fa fa-check"></i><b>0.2</b> Maximising Reproducibility and Visibility<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a>
<ul>
<li><a href="introduction.html#intended-learning-outcomes-1">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#computer-literacy-basics"><i class="fa fa-check"></i><b>1.1</b> Computer Literacy Basics<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#r-and-r-studio"><i class="fa fa-check"></i><b>1.2</b> R and R Studio<span></span></a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="introduction.html"><a href="introduction.html#r"><i class="fa fa-check"></i><b>1.2.1</b> R<span></span></a></li>
<li class="chapter" data-level="1.2.2" data-path="introduction.html"><a href="introduction.html#rstudio-ide"><i class="fa fa-check"></i><b>1.2.2</b> RStudio IDE<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#r-r-studio-and-associated-file-types"><i class="fa fa-check"></i><b>1.3</b> R, R Studio and Associated File Types<span></span></a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#file-structuredirectories"><i class="fa fa-check"></i><b>1.3.1</b> File Structure/Directories<span></span></a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#file-extensions"><i class="fa fa-check"></i><b>1.3.2</b> File Extensions<span></span></a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#zip-files"><i class="fa fa-check"></i><b>1.3.3</b> .zip Files<span></span></a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#rstudio-specific-files"><i class="fa fa-check"></i><b>1.3.4</b> RStudio Specific Files<span></span></a></li>
<li class="chapter" data-level="1.3.5" data-path="introduction.html"><a href="introduction.html#r-files"><i class="fa fa-check"></i><b>1.3.5</b> .r Files<span></span></a></li>
<li class="chapter" data-level="1.3.6" data-path="introduction.html"><a href="introduction.html#rmd-files"><i class="fa fa-check"></i><b>1.3.6</b> .Rmd files<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#comments"><i class="fa fa-check"></i><b>1.4</b> Comments<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#saving-your-file"><i class="fa fa-check"></i><b>1.5</b> Saving your file<span></span></a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#sessions"><i class="fa fa-check"></i><b>1.6</b> Sessions<span></span></a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="introduction.html"><a href="introduction.html#what-is-a-session-in-r"><i class="fa fa-check"></i><b>1.6.1</b> What is a session in R?<span></span></a></li>
<li class="chapter" data-level="1.6.2" data-path="introduction.html"><a href="introduction.html#restarting-your-current-session"><i class="fa fa-check"></i><b>1.6.2</b> Restarting Your Current Session<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#packages"><i class="fa fa-check"></i><b>1.7</b> Packages<span></span></a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="introduction.html"><a href="introduction.html#installing-packages"><i class="fa fa-check"></i><b>1.7.1</b> Installing Packages<span></span></a></li>
<li class="chapter" data-level="1.7.2" data-path="introduction.html"><a href="introduction.html#load-tidyverse"><i class="fa fa-check"></i><b>1.7.2</b> Loading Packages<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="introduction.html"><a href="introduction.html#functions"><i class="fa fa-check"></i><b>1.8</b> Functions<span></span></a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="introduction.html"><a href="introduction.html#what-is-a-function"><i class="fa fa-check"></i><b>1.8.1</b> What is a function?<span></span></a></li>
<li class="chapter" data-level="1.8.2" data-path="introduction.html"><a href="introduction.html#the-anatomy-of-a-function-names-and-arguments"><i class="fa fa-check"></i><b>1.8.2</b> The Anatomy of a Function: names and arguments<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="introduction.html"><a href="introduction.html#formative-homework"><i class="fa fa-check"></i><b>1.9</b> Formative Homework<span></span></a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="introduction.html"><a href="introduction.html#install-r-and-rstudio-on-your-personal-computer"><i class="fa fa-check"></i><b>1.9.1</b> Install R and RStudio on your personal computer<span></span></a></li>
<li class="chapter" data-level="1.9.2" data-path="introduction.html"><a href="introduction.html#installing-and-loading-tidyverse"><i class="fa fa-check"></i><b>1.9.2</b> Installing and Loading tidyverse<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-data.html"><a href="introduction-to-data.html"><i class="fa fa-check"></i><b>2</b> Introduction to Data<span></span></a>
<ul>
<li><a href="introduction-to-data.html#intended-learning-outcomes-2">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="2.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#pre-steps"><i class="fa fa-check"></i><b>2.1</b> Pre-Steps<span></span></a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#downloading-materials"><i class="fa fa-check"></i><b>2.1.1</b> Downloading materials<span></span></a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#unzipping-the-zip-folder"><i class="fa fa-check"></i><b>2.1.2</b> Unzipping the zip folder<span></span></a></li>
<li class="chapter" data-level="2.1.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#setting-the-working-directory"><i class="fa fa-check"></i><b>2.1.3</b> Setting the working directory<span></span></a></li>
<li class="chapter" data-level="2.1.4" data-path="introduction-to-data.html"><a href="introduction-to-data.html#load-tidyverse-into-the-library"><i class="fa fa-check"></i><b>2.1.4</b> Load tidyverse into the library<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#basic-data-types"><i class="fa fa-check"></i><b>2.2</b> Basic data types<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#character"><i class="fa fa-check"></i><b>2.2.1</b> Character<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#numeric"><i class="fa fa-check"></i><b>2.2.2</b> Numeric<span></span></a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#logical"><i class="fa fa-check"></i><b>2.2.3</b> Logical<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#vectors"><i class="fa fa-check"></i><b>2.3</b> Vectors<span></span></a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#creating-vectors"><i class="fa fa-check"></i><b>2.3.1</b> Creating vectors<span></span></a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#converting-vectors-into-different-data-types-of-vectors-aka-funky-things-we-can-do"><i class="fa fa-check"></i><b>2.3.2</b> Converting vectors into different data types of vectors aka funky things we can do<span></span></a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#adding-elements-to-existing-vectors"><i class="fa fa-check"></i><b>2.3.3</b> Adding elements to existing vectors<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-data.html"><a href="introduction-to-data.html#tibble---the-new-way-of-creating-a-dataframe"><i class="fa fa-check"></i><b>2.4</b> Tibble - the new way of creating a dataframe<span></span></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#what-the-heck-is-a-tibble-do-you-mean-table"><i class="fa fa-check"></i><b>2.4.1</b> What the heck is a tibble? Do you mean table?<span></span></a></li>
<li class="chapter" data-level="2.4.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#how-to-make-a-tibble-from-scratch"><i class="fa fa-check"></i><b>2.4.2</b> How to make a tibble from scratch<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-data.html"><a href="introduction-to-data.html#reading-in-data"><i class="fa fa-check"></i><b>2.5</b> Reading in data<span></span></a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#from-pre-existing-databases"><i class="fa fa-check"></i><b>2.5.1</b> from pre-existing databases<span></span></a></li>
<li class="chapter" data-level="2.5.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#from-existing-data-files"><i class="fa fa-check"></i><b>2.5.2</b> from existing data files<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-data.html"><a href="introduction-to-data.html#last-point-for-today"><i class="fa fa-check"></i><b>2.6</b> Last point for today<span></span></a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-data.html"><a href="introduction-to-data.html#summative-homework"><i class="fa fa-check"></i><b>2.7</b> Summative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html"><i class="fa fa-check"></i><b>3</b> Data Transformation 1: Basic One Table Verbs<span></span></a>
<ul>
<li><a href="data-transformation-1-basic-one-table-verbs.html#intended-learning-outcomes-3">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="3.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#data-wrangling"><i class="fa fa-check"></i><b>3.1</b> Data Wrangling<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#pre-steps-1"><i class="fa fa-check"></i><b>3.2</b> Pre-Steps<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#downloading-materials-1"><i class="fa fa-check"></i><b>3.2.1</b> Downloading materials<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#unzipping-the-zip-folder-1"><i class="fa fa-check"></i><b>3.2.2</b> Unzipping the zip folder<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#setting-the-working-directory-1"><i class="fa fa-check"></i><b>3.2.3</b> Setting the working directory<span></span></a></li>
<li class="chapter" data-level="3.2.4" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#loading-in-the-required-packages-into-the-library"><i class="fa fa-check"></i><b>3.2.4</b> Loading in the required packages into the library<span></span></a></li>
<li class="chapter" data-level="3.2.5" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#read-in-the-data"><i class="fa fa-check"></i><b>3.2.5</b> Read in the data<span></span></a></li>
<li class="chapter" data-level="3.2.6" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#view-the-data"><i class="fa fa-check"></i><b>3.2.6</b> View the data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#select"><i class="fa fa-check"></i><b>3.3</b> select()<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#arrange"><i class="fa fa-check"></i><b>3.4</b> arrange()<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#filter"><i class="fa fa-check"></i><b>3.5</b> filter()<span></span></a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#single-criterion"><i class="fa fa-check"></i><b>3.5.1</b> Single criterion<span></span></a></li>
<li class="chapter" data-level="3.5.2" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#multiple-criteria"><i class="fa fa-check"></i><b>3.5.2</b> Multiple criteria<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#mutate"><i class="fa fa-check"></i><b>3.6</b> mutate()<span></span></a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#read-in-second-dataset"><i class="fa fa-check"></i><b>3.6.1</b> Read in second dataset<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#summarise"><i class="fa fa-check"></i><b>3.7</b> summarise()<span></span></a></li>
<li class="chapter" data-level="3.8" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#adding-group_by"><i class="fa fa-check"></i><b>3.8</b> Adding group_by()<span></span></a></li>
<li class="chapter" data-level="3.9" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#formative-homework-1"><i class="fa fa-check"></i><b>3.9</b> Formative Homework<span></span></a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="data-transformation-1-basic-one-table-verbs.html"><a href="data-transformation-1-basic-one-table-verbs.html#brief-introduction-to-the-homework-data"><i class="fa fa-check"></i><b>3.9.1</b> Brief introduction to the homework data<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html"><i class="fa fa-check"></i><b>4</b> Data Transformation 2: More One and Two Table Verbs<span></span></a>
<ul>
<li><a href="data-transformation-2-more-one-and-two-table-verbs.html#intended-learning-outcomes-4">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="4.1" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#pre-steps-2"><i class="fa fa-check"></i><b>4.1</b> Pre-Steps<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#practicing-the-wikham-six"><i class="fa fa-check"></i><b>4.2</b> Practicing the Wikham Six<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#select-1"><i class="fa fa-check"></i><b>4.2.1</b> select()<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#arrange-1"><i class="fa fa-check"></i><b>4.2.2</b> arrange()<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#filter-1"><i class="fa fa-check"></i><b>4.2.3</b> filter()<span></span></a></li>
<li class="chapter" data-level="4.2.4" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#mutate-1"><i class="fa fa-check"></i><b>4.2.4</b> mutate()<span></span></a></li>
<li class="chapter" data-level="4.2.5" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#group_by-and-summarise"><i class="fa fa-check"></i><b>4.2.5</b> group_by() and summarise()<span></span></a></li>
<li class="chapter" data-level="4.2.6" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#bringing-it-all-together"><i class="fa fa-check"></i><b>4.2.6</b> Bringing it all together<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#pipes"><i class="fa fa-check"></i><b>4.3</b> The pipe operator (%&gt;%)<span></span></a></li>
<li class="chapter" data-level="4.4" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#two-table-verbs"><i class="fa fa-check"></i><b>4.4</b> Two-Table Verbs<span></span></a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#bringing-in-new-data"><i class="fa fa-check"></i><b>4.4.1</b> Bringing in new data<span></span></a></li>
<li class="chapter" data-level="4.4.2" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#mutating-join-verbs"><i class="fa fa-check"></i><b>4.4.2</b> Mutating Join Verbs<span></span></a></li>
<li class="chapter" data-level="4.4.3" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#mutating-join-summary"><i class="fa fa-check"></i><b>4.4.3</b> Mutating Join Summary<span></span></a></li>
<li class="chapter" data-level="4.4.4" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#binding-join-verbs"><i class="fa fa-check"></i><b>4.4.4</b> Binding Join Verbs<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#additional-information"><i class="fa fa-check"></i><b>4.5</b> Additional information<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="data-transformation-2-more-one-and-two-table-verbs.html"><a href="data-transformation-2-more-one-and-two-table-verbs.html#summative-homework-1"><i class="fa fa-check"></i><b>4.6</b> Summative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html"><i class="fa fa-check"></i><b>5</b> Data Transformation 3: Tidy Data<span></span></a>
<ul>
<li><a href="data-transformation-3-tidy-data.html#intended-learning-outcomes-5">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="5.1" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#pre-steps-3"><i class="fa fa-check"></i><b>5.1</b> Pre-steps<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#tidy-data"><i class="fa fa-check"></i><b>5.2</b> Tidy data<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#gather-and-spread"><i class="fa fa-check"></i><b>5.3</b> gather() and spread()<span></span></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#gather"><i class="fa fa-check"></i><b>5.3.1</b> gather()<span></span></a></li>
<li class="chapter" data-level="5.3.2" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#spread"><i class="fa fa-check"></i><b>5.3.2</b> spread()<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#separate-and-unite"><i class="fa fa-check"></i><b>5.4</b> separate() and unite()<span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#separate"><i class="fa fa-check"></i><b>5.4.1</b> separate()<span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#additional-arguments-for-separate"><i class="fa fa-check"></i><b>5.4.2</b> additional arguments for separate()<span></span></a></li>
<li class="chapter" data-level="5.4.3" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#unite"><i class="fa fa-check"></i><b>5.4.3</b> unite()<span></span></a></li>
<li class="chapter" data-level="5.4.4" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#additional-arguments-for-unite"><i class="fa fa-check"></i><b>5.4.4</b> additional arguments for unite()<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#bonus-materials-mutate-row-names-from-the-mtcars"><i class="fa fa-check"></i><b>5.5</b> Bonus materials: mutate row names from the <code>mtcars</code><span></span></a></li>
<li class="chapter" data-level="5.6" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#additional-information-1"><i class="fa fa-check"></i><b>5.6</b> Additional information<span></span></a></li>
<li class="chapter" data-level="5.7" data-path="data-transformation-3-tidy-data.html"><a href="data-transformation-3-tidy-data.html#formative-homework-2"><i class="fa fa-check"></i><b>5.7</b> Formative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html"><i class="fa fa-check"></i><b>6</b> Data Transformation 4: Fine-tuned Data Manipulation<span></span></a>
<ul>
<li><a href="data-transformation-4-fine-tuned-data-manipulation.html#intended-learning-outcomes-6">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="6.1" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#pre-steps-4"><i class="fa fa-check"></i><b>6.1</b> Pre-steps<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#rename"><i class="fa fa-check"></i><b>6.2</b> rename()<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#conditional-statements"><i class="fa fa-check"></i><b>6.3</b> Conditional statements<span></span></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#recode"><i class="fa fa-check"></i><b>6.3.1</b> recode()<span></span></a></li>
<li class="chapter" data-level="6.3.2" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#ifelse"><i class="fa fa-check"></i><b>6.3.2</b> ifelse()<span></span></a></li>
<li class="chapter" data-level="6.3.3" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#case_when"><i class="fa fa-check"></i><b>6.3.3</b> case_when()<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#distinct"><i class="fa fa-check"></i><b>6.4</b> distinct()<span></span></a></li>
<li class="chapter" data-level="6.5" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#recap"><i class="fa fa-check"></i><b>6.5</b> Recap<span></span></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-1"><i class="fa fa-check"></i><b>6.5.1</b> Question 1<span></span></a></li>
<li class="chapter" data-level="6.5.2" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-2"><i class="fa fa-check"></i><b>6.5.2</b> Question 2<span></span></a></li>
<li class="chapter" data-level="6.5.3" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-3"><i class="fa fa-check"></i><b>6.5.3</b> Question 3<span></span></a></li>
<li class="chapter" data-level="6.5.4" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-4"><i class="fa fa-check"></i><b>6.5.4</b> Question 4<span></span></a></li>
<li class="chapter" data-level="6.5.5" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#question-5"><i class="fa fa-check"></i><b>6.5.5</b> Question 5<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="data-transformation-4-fine-tuned-data-manipulation.html"><a href="data-transformation-4-fine-tuned-data-manipulation.html#summative-homework-2"><i class="fa fa-check"></i><b>6.6</b> Summative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html"><i class="fa fa-check"></i><b>7</b> Data Visualisation 1<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#pre-class-activities"><i class="fa fa-check"></i><b>7.1</b> Pre-class Activities<span></span></a></li>
<li><a href="data-visualisation-1.html#intended-learning-outcomes-7">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="7.2" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#pre-steps-5"><i class="fa fa-check"></i><b>7.2</b> Pre-steps<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#introduction-to-the-data"><i class="fa fa-check"></i><b>7.3</b> Introduction to the data<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#some-warm-up-tasks"><i class="fa fa-check"></i><b>7.4</b> Some warm-up tasks<span></span></a></li>
<li class="chapter" data-level="7.5" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#the-package-ggplot2"><i class="fa fa-check"></i><b>7.5</b> The package GGPLOT2<span></span></a></li>
<li class="chapter" data-level="7.6" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#layering"><i class="fa fa-check"></i><b>7.6</b> Layering<span></span></a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#layer-1"><i class="fa fa-check"></i><b>7.6.1</b> Layer 1<span></span></a></li>
<li class="chapter" data-level="7.6.2" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#layer-2-and-onward"><i class="fa fa-check"></i><b>7.6.2</b> Layer 2 and onward<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#how-do-we-choose-the-type-of-plot"><i class="fa fa-check"></i><b>7.7</b> How do we choose the type of plot?<span></span></a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#data-format"><i class="fa fa-check"></i><b>7.7.1</b> Data format<span></span></a></li>
<li class="chapter" data-level="7.7.2" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#number-of-variables"><i class="fa fa-check"></i><b>7.7.2</b> Number of variables<span></span></a></li>
<li class="chapter" data-level="7.7.3" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#types-of-plots"><i class="fa fa-check"></i><b>7.7.3</b> Types of plots<span></span></a></li>
<li class="chapter" data-level="7.7.4" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#groupings"><i class="fa fa-check"></i><b>7.7.4</b> Groupings<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#now-lets-have-a-look-at-different-plots-with-more-complexity"><i class="fa fa-check"></i><b>7.8</b> Now letâ€™s have a look at different plots with more complexity<span></span></a></li>
<li class="chapter" data-level="7.9" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#other-plots"><i class="fa fa-check"></i><b>7.9</b> Other plots<span></span></a></li>
<li class="chapter" data-level="7.10" data-path="data-visualisation-1.html"><a href="data-visualisation-1.html#formative-homework-3"><i class="fa fa-check"></i><b>7.10</b> Formative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html"><i class="fa fa-check"></i><b>8</b> Data Visualisation 2<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#additional-resources"><i class="fa fa-check"></i><b>8.1</b> Additional Resources<span></span></a></li>
<li><a href="data-visualisation-2.html#intended-learning-outcomes-8">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#pre-steps-6"><i class="fa fa-check"></i><b>8.2</b> Pre-steps<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#re-introduction-to-the-data"><i class="fa fa-check"></i><b>8.3</b> Re-introduction to the data<span></span></a></li>
<li class="chapter" data-level="8.4" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#create-multiple-plots-in-one"><i class="fa fa-check"></i><b>8.4</b> Create multiple plots in one<span></span></a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#select-the-data-beforehand-and-create-different-plots."><i class="fa fa-check"></i><b>8.4.1</b> Select the data beforehand and create different plots.<span></span></a></li>
<li class="chapter" data-level="8.4.2" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#facets"><i class="fa fa-check"></i><b>8.4.2</b> Facets<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#global-and-local-aesthetics"><i class="fa fa-check"></i><b>8.5</b> Global and Local aesthetics<span></span></a></li>
<li class="chapter" data-level="8.6" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#themes-making-your-plots-pretty-looking-the-way-you-want-them-to"><i class="fa fa-check"></i><b>8.6</b> Themes: Making your plots pretty: looking the way you want them to<span></span></a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#ready-made-themes"><i class="fa fa-check"></i><b>8.6.1</b> Ready-made themes<span></span></a></li>
<li class="chapter" data-level="8.6.2" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#adding-axes-titles-and-headings"><i class="fa fa-check"></i><b>8.6.2</b> Adding axes titles and headings<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#changing-colours"><i class="fa fa-check"></i><b>8.7</b> Changing colours<span></span></a></li>
<li class="chapter" data-level="8.8" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#legends"><i class="fa fa-check"></i><b>8.8</b> Legends<span></span></a></li>
<li class="chapter" data-level="8.9" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#changing-axes-ticks"><i class="fa fa-check"></i><b>8.9</b> Changing axes ticks<span></span></a></li>
<li class="chapter" data-level="8.10" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#saving-plots"><i class="fa fa-check"></i><b>8.10</b> Saving plots<span></span></a></li>
<li class="chapter" data-level="8.11" data-path="data-visualisation-2.html"><a href="data-visualisation-2.html#summative-homework-3"><i class="fa fa-check"></i><b>8.11</b> Summative Homework<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="errors.html"><a href="errors.html"><i class="fa fa-check"></i><b>9</b> Errors<span></span></a>
<ul>
<li><a href="errors.html#intended-learning-outcomes-9">Intended Learning Outcomes<span></span></a></li>
<li class="chapter" data-level="9.1" data-path="errors.html"><a href="errors.html#errors-how-to-avoid-some-and-live-through-the-rest"><i class="fa fa-check"></i><b>9.1</b> Errors: How to avoid some and live through the rest<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="errors.html"><a href="errors.html#debugging"><i class="fa fa-check"></i><b>9.2</b> Debugging<span></span></a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="errors.html"><a href="errors.html#messages-from-r"><i class="fa fa-check"></i><b>9.2.1</b> Messages from R<span></span></a></li>
<li class="chapter" data-level="9.2.2" data-path="errors.html"><a href="errors.html#error-messages"><i class="fa fa-check"></i><b>9.2.2</b> Error Messages<span></span></a></li>
<li class="chapter" data-level="9.2.3" data-path="errors.html"><a href="errors.html#multiple-errors"><i class="fa fa-check"></i><b>9.2.3</b> Multiple Errors<span></span></a></li>
<li class="chapter" data-level="9.2.4" data-path="errors.html"><a href="errors.html#finding-errors-in-longer-code-segments"><i class="fa fa-check"></i><b>9.2.4</b> Finding errors in longer code segments<span></span></a></li>
<li class="chapter" data-level="9.2.5" data-path="errors.html"><a href="errors.html#warning-messages"><i class="fa fa-check"></i><b>9.2.5</b> Warning Messages<span></span></a></li>
<li class="chapter" data-level="9.2.6" data-path="errors.html"><a href="errors.html#other-messages"><i class="fa fa-check"></i><b>9.2.6</b> Other Messages<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="errors.html"><a href="errors.html#searching-for-help-online"><i class="fa fa-check"></i><b>9.3</b> Searching for Help Online<span></span></a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="errors.html"><a href="errors.html#googling-it"><i class="fa fa-check"></i><b>9.3.1</b> Googling It<span></span></a></li>
<li class="chapter" data-level="9.3.2" data-path="errors.html"><a href="errors.html#stack-overflow"><i class="fa fa-check"></i><b>9.3.2</b> Stack Overflow<span></span></a></li>
<li class="chapter" data-level="9.3.3" data-path="errors.html"><a href="errors.html#youtube"><i class="fa fa-check"></i><b>9.3.3</b> YouTube<span></span></a></li>
<li class="chapter" data-level="9.3.4" data-path="errors.html"><a href="errors.html#further-reading"><i class="fa fa-check"></i><b>9.3.4</b> Further Reading<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="errors.html"><a href="errors.html#formative-exercises"><i class="fa fa-check"></i><b>9.4</b> Formative Exercises<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="recap-before-the-final-assessment.html"><a href="recap-before-the-final-assessment.html"><i class="fa fa-check"></i><b>10</b> Recap: Before the final assessment<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="recap-before-the-final-assessment.html"><a href="recap-before-the-final-assessment.html#outline-for-today"><i class="fa fa-check"></i><b>10.1</b> Outline for today<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="recap-before-the-final-assessment.html"><a href="recap-before-the-final-assessment.html#lecture-10-bringing-your-skills-together"><i class="fa fa-check"></i><b>10.2</b> Lecture 10: Bringing your skills together<span></span></a>
<ul>
<li><a href="recap-before-the-final-assessment.html#question-1-1">Question 1<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-2-1">Question 2<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-3-1">Question 3<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-4-1">Question 4<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-5-1">Question 5<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-6">Question 6<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-7">Question 7<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-8">Question 8<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-9">Question 9<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-10">Question 10<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-11">Question 11<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-12-bonus">Question 12 (Bonus)<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-13-bonus">Question 13 (Bonus)<span></span></a></li>
<li><a href="recap-before-the-final-assessment.html#question-14-bonus">Question 14 (Bonus)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="recap-before-the-final-assessment.html"><a href="recap-before-the-final-assessment.html#solutions"><i class="fa fa-check"></i><b>10.3</b> Solutions<span></span></a></li>
</ul></li>
<li><a href="appendices.html#appendices">Appendices<span></span></a>
<ul>
<li><a href="appendices.html#changing-the-appearance-of-rmarkdown">Changing the Appearance of RMarkdown<span></span></a></li>
<li><a href="appendices.html#source-materials">Source Materials<span></span></a></li>
<li><a href="appendices.html#further-reading-1">Further Reading<span></span></a>
<ul>
<li><a href="appendices.html#statistics">Statistics<span></span></a></li>
<li><a href="appendices.html#more-advanced-use-of-r">More Advanced Use of R<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>11</b> References<span></span></a></li>
<li class="divider"></li>
<li><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" 
    target="blank"><img alt="Creative Commons License" 
    style="border-width:0" 
    src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation-4-fine-tuned-data-manipulation" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Data Transformation 4: Fine-tuned Data Manipulation<a href="data-transformation-4-fine-tuned-data-manipulation.html#data-transformation-4-fine-tuned-data-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="intended-learning-outcomes-6" class="section level2 unnumbered hasAnchor">
<h2>Intended Learning Outcomes<a href="data-transformation-4-fine-tuned-data-manipulation.html#intended-learning-outcomes-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The whole purpose of this lecture is to expose you to a couple of useful functions that would make your daily life easier when dealing with your own data. By the end of today, you will know</p>
<ol style="list-style-type: decimal">
<li>How to rename column headers</li>
<li>How to recode cell values based on conditions</li>
<li>How to obtain unique values from your data</li>
</ol>
<p>This lesson is led by <a href="https://www.psy.gla.ac.uk/otherstaff/?id=GM005">Gaby Mahrholz</a>.</p>
</div>
<div id="pre-steps-4" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Pre-steps<a href="data-transformation-4-fine-tuned-data-manipulation.html#pre-steps-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before we can start to focus on some other functions that might come in handy for data manipulation, we need to make sure to load <code>tidyverse</code> into the library.</p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb333-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
</div>
<div id="rename" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> rename()<a href="data-transformation-4-fine-tuned-data-manipulation.html#rename" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>rename()</code> is a very useful function if we wanted to change column names. All available column are retained, so nothing is lost. If you had 5 variables in a tibble, and wanted to change the name of one of them, your output would be 5 columns in total - one column with a changed name and 4 columns with the previous names. The <code>rename()</code> function follows a very simple pattern of</p>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(data, <span class="at">new_column_name =</span> old_column_name)</span></code></pre></div>
<p>You can rename multiple column headers by including more arguments, separating them with a comma. Letâ€™s take a look at a simple example in <code>table1</code>.</p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb335-1" aria-hidden="true" tabindex="-1"></a>table1</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   country      year  cases population
##   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;
## 1 Afghanistan  1999    745   19987071
## 2 Afghanistan  2000   2666   20595360
## 3 Brazil       1999  37737  172006362
## 4 Brazil       2000  80488  174504898
## 5 China        1999 212258 1272915272
## 6 China        2000 213766 1280428583</code></pre>
<p>If we wanted to change the column headers of <code>country</code> to <code>Country</code> and <code>population</code> to <code>Population</code>, and keep the columns <code>year</code> and <code>cases</code> as they are, we would code</p>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(table1, <span class="at">Country =</span> country,</span>
<span id="cb337-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb337-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">Population =</span> population)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   Country      year  cases Population
##   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;
## 1 Afghanistan  1999    745   19987071
## 2 Afghanistan  2000   2666   20595360
## 3 Brazil       1999  37737  172006362
## 4 Brazil       2000  80488  174504898
## 5 China        1999 212258 1272915272
## 6 China        2000 213766 1280428583</code></pre>
<p>If you want to select a few columns and rename them in the process, you could use <code>select()</code>. The structure is the same as with <code>rename()</code>, the only difference is that the new data only retains the columns mentioned explicitly within <code>select()</code>.</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(data, <span class="at">new_column_name =</span> old_column_name)</span></code></pre></div>
<p>Modifying the <code>rename()</code> example from above would lead to selecting <strong>only</strong> the columns <code>country</code> and <code>population</code> from <code>table1</code> and renaming them as <code>Country</code> and <code>Population</code> at the same time.</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb340-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(table1, <span class="at">Country =</span> country,</span>
<span id="cb340-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb340-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">Population =</span> population)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   Country     Population
##   &lt;chr&gt;            &lt;int&gt;
## 1 Afghanistan   19987071
## 2 Afghanistan   20595360
## 3 Brazil       172006362
## 4 Brazil       174504898
## 5 China       1272915272
## 6 China       1280428583</code></pre>
</div>
<div id="conditional-statements" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Conditional statements<a href="data-transformation-4-fine-tuned-data-manipulation.html#conditional-statements" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Conditional statements are used when you want to create an output value that is conditioned on an evaluation. Here, we are showing you how to use them in combination with <code>mutate()</code> by either modifying the values within one column, or by adding a new column.</p>
<p>Example scenario: Imagine that we have data in which a column <code>Sex</code> holds values of <code>1</code> and <code>2</code> that stand for <code>Male</code>, and <code>Female</code> participants respectively. Conditional statements make an evaluation: <em>if <code>Sex</code> is <code>1</code>, then put the value of <code>Male</code> in a new column called <code>Sex_char</code>; if <code>Sex</code> is <code>2</code> put <code>Female</code> in column <code>Sex_char</code>.</em></p>
<p>Letâ€™s create some fake data for this. 40 participants (17 male, 20 female, 3 other), they are between 16 and 40 years of age, they study at 4 different institutions (University of Glasgow, University of Strathclyde, Glasgow Caledonian University, University of the West of Scotland), and we had them complete an R assignment and recorded their grade points.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb342-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">999</span>) <span class="co">#so we all get the same random data</span></span>
<span id="cb342-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb342-2" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">PP_ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">40</span>,</span>
<span id="cb342-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb342-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">Sex =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">17</span>), <span class="fu">rep</span>(<span class="dv">2</span>,<span class="dv">20</span>), <span class="fu">rep</span>(<span class="dv">3</span>,<span class="dv">3</span>)),</span>
<span id="cb342-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb342-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">Age =</span> <span class="fu">sample</span>(<span class="dv">16</span><span class="sc">:</span><span class="dv">40</span>, <span class="dv">40</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>),</span>
<span id="cb342-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb342-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">Institution =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">10</span>), <span class="fu">rep</span>(<span class="dv">2</span>,<span class="dv">8</span>), <span class="fu">rep</span>(<span class="dv">3</span>,<span class="dv">10</span>), <span class="fu">rep</span>(<span class="dv">4</span>,<span class="dv">10</span>), <span class="fu">rep</span>(<span class="dv">99</span>,<span class="dv">2</span>))),</span>
<span id="cb342-6"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb342-6" aria-hidden="true" tabindex="-1"></a>                    <span class="at">Grade_points =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">9</span><span class="sc">:</span><span class="dv">22</span>), <span class="dv">40</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb342-7"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb342-7" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(fake_data)</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 5
## $ PP_ID        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17~
## $ Sex          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, ~
## $ Age          &lt;int&gt; 19, 22, 24, 29, 16, 25, 37, 18, 38, 39, 30, 20, 22, 21, 3~
## $ Institution  &lt;dbl&gt; 3, 1, 1, 4, 2, 3, 1, 4, 3, 4, 3, 4, 4, 4, 2, 3, 3, 99, 2,~
## $ Grade_points &lt;dbl&gt; 0, 20, 15, 20, 11, 22, 21, 9, 13, 22, 19, 13, 10, 0, 12, ~</code></pre>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(fake_data)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">PP_ID</th>
<th align="right">Sex</th>
<th align="right">Age</th>
<th align="right">Institution</th>
<th align="right">Grade_points</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">19</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">22</td>
<td align="right">1</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">1</td>
<td align="right">24</td>
<td align="right">1</td>
<td align="right">15</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">29</td>
<td align="right">4</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">1</td>
<td align="right">16</td>
<td align="right">2</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">1</td>
<td align="right">25</td>
<td align="right">3</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">1</td>
<td align="right">37</td>
<td align="right">1</td>
<td align="right">21</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">1</td>
<td align="right">18</td>
<td align="right">4</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">1</td>
<td align="right">38</td>
<td align="right">3</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">1</td>
<td align="right">39</td>
<td align="right">4</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">1</td>
<td align="right">30</td>
<td align="right">3</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">1</td>
<td align="right">20</td>
<td align="right">4</td>
<td align="right">13</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">1</td>
<td align="right">22</td>
<td align="right">4</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">1</td>
<td align="right">21</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="right">1</td>
<td align="right">34</td>
<td align="right">2</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="right">1</td>
<td align="right">26</td>
<td align="right">3</td>
<td align="right">17</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="right">1</td>
<td align="right">33</td>
<td align="right">3</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">2</td>
<td align="right">16</td>
<td align="right">99</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="right">2</td>
<td align="right">20</td>
<td align="right">2</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">2</td>
<td align="right">34</td>
<td align="right">3</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="right">21</td>
<td align="right">2</td>
<td align="right">27</td>
<td align="right">3</td>
<td align="right">10</td>
</tr>
<tr class="even">
<td align="right">22</td>
<td align="right">2</td>
<td align="right">24</td>
<td align="right">4</td>
<td align="right">11</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="right">2</td>
<td align="right">36</td>
<td align="right">1</td>
<td align="right">15</td>
</tr>
<tr class="even">
<td align="right">24</td>
<td align="right">2</td>
<td align="right">38</td>
<td align="right">99</td>
<td align="right">21</td>
</tr>
<tr class="odd">
<td align="right">25</td>
<td align="right">2</td>
<td align="right">20</td>
<td align="right">2</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="right">26</td>
<td align="right">2</td>
<td align="right">40</td>
<td align="right">2</td>
<td align="right">15</td>
</tr>
<tr class="odd">
<td align="right">27</td>
<td align="right">2</td>
<td align="right">19</td>
<td align="right">4</td>
<td align="right">18</td>
</tr>
<tr class="even">
<td align="right">28</td>
<td align="right">2</td>
<td align="right">39</td>
<td align="right">3</td>
<td align="right">16</td>
</tr>
<tr class="odd">
<td align="right">29</td>
<td align="right">2</td>
<td align="right">40</td>
<td align="right">4</td>
<td align="right">21</td>
</tr>
<tr class="even">
<td align="right">30</td>
<td align="right">2</td>
<td align="right">30</td>
<td align="right">2</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="right">31</td>
<td align="right">2</td>
<td align="right">38</td>
<td align="right">1</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="right">32</td>
<td align="right">2</td>
<td align="right">31</td>
<td align="right">1</td>
<td align="right">19</td>
</tr>
<tr class="odd">
<td align="right">33</td>
<td align="right">2</td>
<td align="right">26</td>
<td align="right">4</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="right">34</td>
<td align="right">2</td>
<td align="right">17</td>
<td align="right">1</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="right">35</td>
<td align="right">2</td>
<td align="right">24</td>
<td align="right">1</td>
<td align="right">21</td>
</tr>
<tr class="even">
<td align="right">36</td>
<td align="right">2</td>
<td align="right">16</td>
<td align="right">3</td>
<td align="right">21</td>
</tr>
<tr class="odd">
<td align="right">37</td>
<td align="right">2</td>
<td align="right">33</td>
<td align="right">1</td>
<td align="right">18</td>
</tr>
<tr class="even">
<td align="right">38</td>
<td align="right">3</td>
<td align="right">39</td>
<td align="right">2</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="right">39</td>
<td align="right">3</td>
<td align="right">23</td>
<td align="right">1</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="right">40</td>
<td align="right">3</td>
<td align="right">19</td>
<td align="right">2</td>
<td align="right">18</td>
</tr>
</tbody>
</table>
<p>Now, the data doesnâ€™t look very readable at the moment. If we pass this data set onto a fellow researcher, they would ask us how the columns <code>Sex</code> and <code>Institution</code> are coded.</p>
<p>Best would be to adjust the values to make that clearer. There are the options of using the function <code>recode()</code>, an <code>ifelse</code> statement or <code>case_when()</code>.</p>
<div id="recode" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> recode()<a href="data-transformation-4-fine-tuned-data-manipulation.html#recode" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Can be used for character, numeric, and factors columns.</p>
<p>The structure for <code>recode()</code> is:</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="fu">recode</span>(variable_to_recode, <span class="at">old_value =</span> new_value)</span></code></pre></div>
<p>This is a bit tricky to remember as it doesnâ€™t follow the usual tidyverse logic. In <code>select()</code>, <code>rename()</code>, and <code>mutate()</code> for example it is the other way around <code>new_thing = old_thing</code> or <code>new_thing = something_computational</code>)</p>
<p>In combination with <code>mutate()</code>, the structure looks as follows:</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(data, <span class="at">new_column_name =</span> <span class="fu">recode</span>(variable_to_recode, <span class="at">old_value =</span> new_value))</span></code></pre></div>
<p>What is a bit unusual in this structure is that we need a new column name within the <code>mutate()</code> function but also a reference column within <code>recode()</code> on which the conditional recoding is based upon.</p>
<p>The new column name within <code>mutate()</code> can either be an entirely new column name, or if it is an existing column name that original column would be overwritten by the new values we recode.</p>
<p>So, letâ€™s turn to our <code>fake_data</code>, and apply that logic for recoding the values of the column <code>Sex</code> where 1 = â€œMaleâ€, 2 = â€œFemaleâ€, and 3 = â€œOtherâ€. We will add a new column <code>Sex_char</code> onto our <code>fake_data</code>.</p>
<p>The only tricky thing to remember here is that recoding numeric values requires backticks (if the numbers are on the left side of the equation).</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb347-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(fake_data, <span class="at">Sex_char =</span> <span class="fu">recode</span>(Sex, </span>
<span id="cb347-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb347-2" aria-hidden="true" tabindex="-1"></a>                                                 <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Male&quot;</span>, </span>
<span id="cb347-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb347-3" aria-hidden="true" tabindex="-1"></a>                                                 <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Female&quot;</span>, </span>
<span id="cb347-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb347-4" aria-hidden="true" tabindex="-1"></a>                                                 <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Other&quot;</span>))</span>
<span id="cb347-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb347-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(fake_data)</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 6
## $ PP_ID        &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17~
## $ Sex          &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, ~
## $ Age          &lt;int&gt; 19, 22, 24, 29, 16, 25, 37, 18, 38, 39, 30, 20, 22, 21, 3~
## $ Institution  &lt;dbl&gt; 3, 1, 1, 4, 2, 3, 1, 4, 3, 4, 3, 4, 4, 4, 2, 3, 3, 99, 2,~
## $ Grade_points &lt;dbl&gt; 0, 20, 15, 20, 11, 22, 21, 9, 13, 22, 19, 13, 10, 0, 12, ~
## $ Sex_char     &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;~</code></pre>
<div class="warning">
<p>
If you forget to recode one condition (for example
<code>`3` = â€œOtherâ€</code>), values for 3 would be displayed as
<code>NA</code> in the new column. This becomes more important when you
decide to overwrite an existing column.
</p>
</div>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
The next variable to recode is <code>Institution</code>:
</p>
<ul>
<li>
1 = UoG,
</li>
<li>
2 = Strathclyde,
</li>
<li>
3 = GCU,
</li>
<li>
4 = UWS
</li>
</ul>
<p>
In the questionnaire, two participants forgot to indicate which
university they are studying at (coded as 99), but fortunately we know
that they are at the University of Strathclyde (the test was distributed
to 10 students at each institution, however, Strathclyde only has 8
responses).
</p>
<p>
Add a new column <code>Institution_char</code> to
<code>fake_data</code> that holds the recoded values as
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb349-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(fake_data, <span class="at">Institution_char =</span> <span class="fu">recode</span>(Institution, </span>
<span id="cb349-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb349-2" aria-hidden="true" tabindex="-1"></a>                                                         <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;UoG&quot;</span>, </span>
<span id="cb349-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb349-3" aria-hidden="true" tabindex="-1"></a>                                                         <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Strathclyde&quot;</span>, </span>
<span id="cb349-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb349-4" aria-hidden="true" tabindex="-1"></a>                                                         <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;GCU&quot;</span>, </span>
<span id="cb349-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb349-5" aria-hidden="true" tabindex="-1"></a>                                                         <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;UWS&quot;</span>, </span>
<span id="cb349-6"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb349-6" aria-hidden="true" tabindex="-1"></a>                                                         <span class="st">`</span><span class="at">99</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Strathclyde&quot;</span>))</span>
<span id="cb349-7"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb349-7" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(fake_data)</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 7
## $ PP_ID            &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16~
## $ Sex              &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,~
## $ Age              &lt;int&gt; 19, 22, 24, 29, 16, 25, 37, 18, 38, 39, 30, 20, 22, 2~
## $ Institution      &lt;dbl&gt; 3, 1, 1, 4, 2, 3, 1, 4, 3, 4, 3, 4, 4, 4, 2, 3, 3, 99~
## $ Grade_points     &lt;dbl&gt; 0, 20, 15, 20, 11, 22, 21, 9, 13, 22, 19, 13, 10, 0, ~
## $ Sex_char         &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male~
## $ Institution_char &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;, &quot;Uo~</code></pre>
</div>
<p>An alternative to <code>recode()</code> is <code>ifelse()</code>. Letâ€™s see how <code>Sex</code> and <code>Institution</code> could have been recoded using <code>ifelse()</code>.</p>
</div>
<div id="ifelse" class="section level3 hasAnchor" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> ifelse()<a href="data-transformation-4-fine-tuned-data-manipulation.html#ifelse" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ifelse()</code> is a good option when dealing with character or numeric input but struggles with dates and factors. None of the columns in <code>fake_data</code> are dates or factors, so we can easily use <code>ifelse()</code> for recoding variables.</p>
<p>The generic structure for <code>ifelse()</code> is:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb351-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(test, yes, no)</span></code></pre></div>
<ul>
<li>test: is an expression to test that creates an output of <code>TRUE</code> or <code>FALSE</code></li>
<li>yes: if test has a <code>TRUE</code> outcome, this is what would be coded in the new column</li>
<li>no: if test has a <code>FALSE</code> outcome, this is what would be coded in the new column</li>
</ul>
<p>The interpretation of <code>ifelse()</code> is: if the test expression is <code>TRUE</code>, write the value of yes, otherwise no.</p>
<p>In combination with <code>mutate()</code>, the structure looks as follows:</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(data, <span class="at">new_column_name =</span> <span class="fu">ifelse</span>(test, yes, no))</span></code></pre></div>
<p>How would we apply that to recoding <code>Sex</code>? We would want the expression to test whether the Sex column holds a value of 1, then a new column should code it as â€œMaleâ€, otherwise as â€œFemaleâ€. Letâ€™s add a new column <code>Sex_ifelse</code> to <code>fake_data</code></p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb353-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(fake_data, <span class="at">Sex_ifelse =</span> <span class="fu">ifelse</span>(Sex <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;Male&quot;</span>, <span class="st">&quot;Female&quot;</span>))</span>
<span id="cb353-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb353-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(fake_data)</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 8
## $ PP_ID            &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16~
## $ Sex              &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2,~
## $ Age              &lt;int&gt; 19, 22, 24, 29, 16, 25, 37, 18, 38, 39, 30, 20, 22, 2~
## $ Institution      &lt;dbl&gt; 3, 1, 1, 4, 2, 3, 1, 4, 3, 4, 3, 4, 4, 4, 2, 3, 3, 99~
## $ Grade_points     &lt;dbl&gt; 0, 20, 15, 20, 11, 22, 21, 9, 13, 22, 19, 13, 10, 0, ~
## $ Sex_char         &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male~
## $ Institution_char &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;, &quot;Uo~
## $ Sex_ifelse       &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male~</code></pre>
<p>AHHHH!!! But what about the 3 participants that chose option 3? They are now coded as â€œFemaleâ€. Hmmm. One way to get around that would be a nested <code>ifelse()</code> statement. Instead of replacing the no argument (<code>FALSE</code> evaluation) with â€œFemaleâ€, we could include a second <code>ifelse()</code> statement.</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb355-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(fake_data, <span class="at">Sex_ifelse =</span> <span class="fu">ifelse</span>(Sex <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;Male&quot;</span>,</span>
<span id="cb355-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb355-2" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">ifelse</span>(Sex <span class="sc">==</span> <span class="dv">2</span>, <span class="st">&quot;Female&quot;</span>, <span class="st">&quot;Other&quot;</span>)))</span></code></pre></div>
<p>Now everything is coded as it should be.</p>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Recode <code>Institution</code> using <code>ifelse()</code>. Add a
new column <code>Institution_ifelse</code> to <code>fake_data</code>. A
quick reminder of the <code>Institution</code> values:
</p>
<ul>
<li>
1 = â€œUoGâ€,
</li>
<li>
2 and 99 = â€œStrathclydeâ€,
</li>
<li>
3 = â€œGCUâ€, and
</li>
<li>
4 = â€œUWSâ€
</li>
</ul>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb356-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(fake_data, <span class="at">Institution_ifelse =</span> <span class="fu">ifelse</span>(Institution <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;UoG&quot;</span>, </span>
<span id="cb356-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb356-2" aria-hidden="true" tabindex="-1"></a>                                                           <span class="fu">ifelse</span>(Institution <span class="sc">==</span> <span class="dv">3</span>, <span class="st">&quot;GCU&quot;</span>, </span>
<span id="cb356-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb356-3" aria-hidden="true" tabindex="-1"></a>                                                                  <span class="fu">ifelse</span>(Institution <span class="sc">==</span>  <span class="dv">4</span>, <span class="st">&quot;UWS&quot;</span>, <span class="st">&quot;Strathclyde&quot;</span>))))</span>
<span id="cb356-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb356-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb356-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb356-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(fake_data)</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 9
## $ PP_ID              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, ~
## $ Sex                &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ~
## $ Age                &lt;int&gt; 19, 22, 24, 29, 16, 25, 37, 18, 38, 39, 30, 20, 22,~
## $ Institution        &lt;dbl&gt; 3, 1, 1, 4, 2, 3, 1, 4, 3, 4, 3, 4, 4, 4, 2, 3, 3, ~
## $ Grade_points       &lt;dbl&gt; 0, 20, 15, 20, 11, 22, 21, 9, 13, 22, 19, 13, 10, 0~
## $ Sex_char           &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Ma~
## $ Institution_char   &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;, &quot;~
## $ Sex_ifelse         &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Ma~
## $ Institution_ifelse &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;, &quot;~</code></pre>
</div>
<p>It does look a bit convoluted, and there is definitely the need to count opening and closing brackets, but it gets us the output we wanted. Before showing you how this can be coded in a slightly neater way with <code>case_when()</code>, Iâ€™d like to highlight one advantage <code>ifelse()</code> has over <code>recode()</code>, namely that the test expression can evaluate more complex â€œthingsâ€ as long as they return a logical value. For example, if we wanted to add a column <code>Pass_Fail</code> to <code>fake_data</code>, that holds values of â€œPassâ€ for grade points above 9, and â€œFailâ€ for values of 9 and below, we would code</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb358-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(fake_data, <span class="at">Pass_Fail =</span> <span class="fu">ifelse</span>(Grade_points <span class="sc">&gt;</span> <span class="dv">9</span>, <span class="st">&quot;Pass&quot;</span>, <span class="st">&quot;Fail&quot;</span>))</span>
<span id="cb358-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb358-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(fake_data)</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 10
## $ PP_ID              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, ~
## $ Sex                &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ~
## $ Age                &lt;int&gt; 19, 22, 24, 29, 16, 25, 37, 18, 38, 39, 30, 20, 22,~
## $ Institution        &lt;dbl&gt; 3, 1, 1, 4, 2, 3, 1, 4, 3, 4, 3, 4, 4, 4, 2, 3, 3, ~
## $ Grade_points       &lt;dbl&gt; 0, 20, 15, 20, 11, 22, 21, 9, 13, 22, 19, 13, 10, 0~
## $ Sex_char           &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Ma~
## $ Institution_char   &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;, &quot;~
## $ Sex_ifelse         &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Ma~
## $ Institution_ifelse &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;, &quot;~
## $ Pass_Fail          &lt;chr&gt; &quot;Fail&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pa~</code></pre>
<p>We could also add a column <code>Grade</code> to <code>fake_data</code> that tells us the primary band the students got in their test. <code>Grade_points</code> between 18 and 22 result in A, 15 to 17 = B, 12 to 14 = C, 9 to 11 = D, 6 to 8 = E, 3 to 5 = F, 1 and 2 = G, and 0 = H. Here we can use the <code>%in%</code> operator.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb360-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(fake_data, <span class="at">Grade =</span> <span class="fu">ifelse</span>(Grade_points <span class="sc">%in%</span> <span class="dv">18</span><span class="sc">:</span><span class="dv">22</span>, <span class="st">&quot;A&quot;</span>,</span>
<span id="cb360-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb360-2" aria-hidden="true" tabindex="-1"></a>                                              <span class="fu">ifelse</span>(Grade_points <span class="sc">%in%</span> <span class="dv">15</span><span class="sc">:</span><span class="dv">17</span>, <span class="st">&quot;B&quot;</span>,</span>
<span id="cb360-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb360-3" aria-hidden="true" tabindex="-1"></a>                                                     <span class="fu">ifelse</span>(Grade_points <span class="sc">%in%</span> <span class="dv">12</span><span class="sc">:</span><span class="dv">14</span>, <span class="st">&quot;C&quot;</span>,</span>
<span id="cb360-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb360-4" aria-hidden="true" tabindex="-1"></a>                                                            <span class="fu">ifelse</span>(Grade_points <span class="sc">%in%</span> <span class="dv">9</span><span class="sc">:</span><span class="dv">11</span>, <span class="st">&quot;D&quot;</span>,</span>
<span id="cb360-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb360-5" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="fu">ifelse</span>(Grade_points <span class="sc">%in%</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">8</span>, <span class="st">&quot;E&quot;</span>,</span>
<span id="cb360-6"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb360-6" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="fu">ifelse</span>(Grade_points <span class="sc">%in%</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">&quot;F&quot;</span>,</span>
<span id="cb360-7"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb360-7" aria-hidden="true" tabindex="-1"></a>                                                                                 <span class="fu">ifelse</span>(Grade_points <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="st">&quot;G&quot;</span>,<span class="st">&quot;H&quot;</span>))))))))</span>
<span id="cb360-8"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb360-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb360-9"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb360-9" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(fake_data)</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 11
## $ PP_ID              &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, ~
## $ Sex                &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ~
## $ Age                &lt;int&gt; 19, 22, 24, 29, 16, 25, 37, 18, 38, 39, 30, 20, 22,~
## $ Institution        &lt;dbl&gt; 3, 1, 1, 4, 2, 3, 1, 4, 3, 4, 3, 4, 4, 4, 2, 3, 3, ~
## $ Grade_points       &lt;dbl&gt; 0, 20, 15, 20, 11, 22, 21, 9, 13, 22, 19, 13, 10, 0~
## $ Sex_char           &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Ma~
## $ Institution_char   &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;, &quot;~
## $ Sex_ifelse         &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Ma~
## $ Institution_ifelse &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;, &quot;~
## $ Pass_Fail          &lt;chr&gt; &quot;Fail&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pa~
## $ Grade              &lt;chr&gt; &quot;H&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;D&quot;, &quot;A&quot;, &quot;A&quot;, &quot;D&quot;, &quot;C&quot;, &quot;A&quot;, &quot;~</code></pre>
</div>
<div id="case_when" class="section level3 hasAnchor" number="6.3.3">
<h3><span class="header-section-number">6.3.3</span> case_when()<a href="data-transformation-4-fine-tuned-data-manipulation.html#case_when" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>case_when()</code> vectorises multiple <code>ifelse()</code> statements, and might potentially be a touch easier to digest visually than <code>ifelse()</code>.</p>
<p>There are few guidelines to follow when using <code>case_when()</code>:</p>
<ul>
<li>A sequence of two-sided formulas is needed.</li>
<li>The left hand side (LHS) determines which values match this case. The right hand side (RHS) provides the replacement value.</li>
<li>The LHS must evaluate to a logical vector. The RHS does not need to be logical, but all RHSs must evaluate to the same type of vector.</li>
</ul>
<p>Letâ€™s apply this to recoding the values in the column <code>Institution</code>. Combining <code>case_when()</code> with <code>mutate()</code>, we will add another column called <code>Institution_case_when</code> to <code>fake_data</code>.</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb362-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(fake_data, <span class="at">Institution_case_when =</span> <span class="fu">case_when</span>(</span>
<span id="cb362-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb362-2" aria-hidden="true" tabindex="-1"></a>  Institution <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;UoG&quot;</span>,</span>
<span id="cb362-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb362-3" aria-hidden="true" tabindex="-1"></a>  Institution <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;GCU&quot;</span>,</span>
<span id="cb362-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb362-4" aria-hidden="true" tabindex="-1"></a>  Institution <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="st">&quot;UWS&quot;</span>,</span>
<span id="cb362-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb362-5" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Strathclyde&quot;</span></span>
<span id="cb362-6"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb362-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb362-7"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb362-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb362-8"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb362-8" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(fake_data)</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 12
## $ PP_ID                 &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 1~
## $ Sex                   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ~
## $ Age                   &lt;int&gt; 19, 22, 24, 29, 16, 25, 37, 18, 38, 39, 30, 20, ~
## $ Institution           &lt;dbl&gt; 3, 1, 1, 4, 2, 3, 1, 4, 3, 4, 3, 4, 4, 4, 2, 3, ~
## $ Grade_points          &lt;dbl&gt; 0, 20, 15, 20, 11, 22, 21, 9, 13, 22, 19, 13, 10~
## $ Sex_char              &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, ~
## $ Institution_char      &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;~
## $ Sex_ifelse            &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, ~
## $ Institution_ifelse    &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;~
## $ Pass_Fail             &lt;chr&gt; &quot;Fail&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, ~
## $ Grade                 &lt;chr&gt; &quot;H&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;D&quot;, &quot;A&quot;, &quot;A&quot;, &quot;D&quot;, &quot;C&quot;, &quot;A&quot;~
## $ Institution_case_when &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;~</code></pre>
<p>The <code>TRUE</code> statement at the end is similar to the the â€œelseâ€ in the <code>ifelse()</code> function. A further similarity between the two is that arguments are evaluated in order, so you must proceed from the most specific to the most general.</p>
<p>Allison Horst made a really cute artwork about <code>case_when()</code> which might help. In her example, she is using the <code>mutate()</code> function to add a new column called <code>danger</code> to the data <code>df</code>, and wants the danger value to be listed as extreme! if the animal is of <code>type</code> kraken. In all other cases, the danger levels should be â€œjustâ€ high.</p>
<div class="figure">
<img src="images/dplyr_case_when.png" alt="" />
<p class="caption">Artwork by <code>@allison_horst</code>, Source: <a href="https://github.com/allisonhorst/stats-illustrations" class="uri">https://github.com/allisonhorst/stats-illustrations</a></p>
</div>
<div class="task">
<p>
<strong>Your turn</strong>
</p>
<p>
Add a column <code>Grade_case_when</code> into <code>fake_data</code>
using a combination of <code>mutate()</code> and
<code>case_when()</code>, that recodes grade points to primary bands.
Quick reminder:
</p>
<ul>
<li>
grade points 18 - 22 = A,
</li>
<li>
15 to 17 = B,
</li>
<li>
12 to 14 = C,
</li>
<li>
9 to 11 = D,
</li>
<li>
6 to 8 = E,
</li>
<li>
3 to 5 = F,
</li>
<li>
1 and 2 = G, and
</li>
<li>
0 = H.
</li>
</ul>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(fake_data, <span class="at">Grade_case_when =</span> <span class="fu">case_when</span>(</span>
<span id="cb364-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-2" aria-hidden="true" tabindex="-1"></a>  Grade_points <span class="sc">%in%</span> <span class="dv">18</span><span class="sc">:</span><span class="dv">22</span> <span class="sc">~</span> <span class="st">&quot;A&quot;</span>,</span>
<span id="cb364-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-3" aria-hidden="true" tabindex="-1"></a>  Grade_points <span class="sc">%in%</span> <span class="dv">15</span><span class="sc">:</span><span class="dv">17</span> <span class="sc">~</span> <span class="st">&quot;B&quot;</span>,</span>
<span id="cb364-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-4" aria-hidden="true" tabindex="-1"></a>  Grade_points <span class="sc">%in%</span> <span class="dv">12</span><span class="sc">:</span><span class="dv">14</span> <span class="sc">~</span> <span class="st">&quot;C&quot;</span>,</span>
<span id="cb364-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-5" aria-hidden="true" tabindex="-1"></a>  Grade_points <span class="sc">%in%</span> <span class="dv">9</span><span class="sc">:</span><span class="dv">11</span> <span class="sc">~</span> <span class="st">&quot;D&quot;</span>,</span>
<span id="cb364-6"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-6" aria-hidden="true" tabindex="-1"></a>  Grade_points <span class="sc">%in%</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">8</span> <span class="sc">~</span> <span class="st">&quot;E&quot;</span>,</span>
<span id="cb364-7"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-7" aria-hidden="true" tabindex="-1"></a>  Grade_points <span class="sc">%in%</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span> <span class="sc">~</span> <span class="st">&quot;F&quot;</span>,</span>
<span id="cb364-8"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-8" aria-hidden="true" tabindex="-1"></a>  Grade_points <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;G&quot;</span>,</span>
<span id="cb364-9"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-9" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;H&quot;</span></span>
<span id="cb364-10"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb364-11"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb364-12"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb364-12" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(fake_data)</span></code></pre></div>
<pre><code>## Rows: 40
## Columns: 13
## $ PP_ID                 &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 1~
## $ Sex                   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ~
## $ Age                   &lt;int&gt; 19, 22, 24, 29, 16, 25, 37, 18, 38, 39, 30, 20, ~
## $ Institution           &lt;dbl&gt; 3, 1, 1, 4, 2, 3, 1, 4, 3, 4, 3, 4, 4, 4, 2, 3, ~
## $ Grade_points          &lt;dbl&gt; 0, 20, 15, 20, 11, 22, 21, 9, 13, 22, 19, 13, 10~
## $ Sex_char              &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, ~
## $ Institution_char      &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;~
## $ Sex_ifelse            &lt;chr&gt; &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, &quot;Male&quot;, ~
## $ Institution_ifelse    &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;~
## $ Pass_Fail             &lt;chr&gt; &quot;Fail&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, &quot;Pass&quot;, ~
## $ Grade                 &lt;chr&gt; &quot;H&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;D&quot;, &quot;A&quot;, &quot;A&quot;, &quot;D&quot;, &quot;C&quot;, &quot;A&quot;~
## $ Institution_case_when &lt;chr&gt; &quot;GCU&quot;, &quot;UoG&quot;, &quot;UoG&quot;, &quot;UWS&quot;, &quot;Strathclyde&quot;, &quot;GCU&quot;~
## $ Grade_case_when       &lt;chr&gt; &quot;H&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;D&quot;, &quot;A&quot;, &quot;A&quot;, &quot;D&quot;, &quot;C&quot;, &quot;A&quot;~</code></pre>
</div>
</div>
</div>
<div id="distinct" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> distinct()<a href="data-transformation-4-fine-tuned-data-manipulation.html#distinct" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>distinct()</code> function is used to remove duplicate rows in your dataframe. If we are using <code>distinct()</code> without specifying any arguments, R checks the whole row and excludes any row that is exactly repeated.</p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb366-1" aria-hidden="true" tabindex="-1"></a>fake_data_no_dup <span class="ot">&lt;-</span> fake_data <span class="sc">%&gt;%</span> </span>
<span id="cb366-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb366-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code></pre></div>
<p>We can see that all rows are still there. This is not surprising, given every participant has a unique ID number. However, <code>distinct()</code> does take arguments as well, namely the variable columns you are trying to determine uniqueness for. Say we we wanted to see how many different institutions we have data from.</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb367-1" aria-hidden="true" tabindex="-1"></a>institution_distinct <span class="ot">&lt;-</span> fake_data <span class="sc">%&gt;%</span> </span>
<span id="cb367-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb367-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Institution_char)</span>
<span id="cb367-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb367-3" aria-hidden="true" tabindex="-1"></a>institution_distinct</span></code></pre></div>
<pre><code>## # A tibble: 4 x 1
##   Institution_char
##   &lt;chr&gt;           
## 1 GCU             
## 2 UoG             
## 3 UWS             
## 4 Strathclyde</code></pre>
<p>We can see that there are 4 distinct institutions. But what happened to the output? We still have the output from the column we specified but all other information is gone. One quick solution would be to use the argument <code>.keep_all</code> and set that to <code>TRUE</code> (the default here is <code>FALSE</code>).</p>
<div class="sourceCode" id="cb369"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb369-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb369-1" aria-hidden="true" tabindex="-1"></a>institution_distinct <span class="ot">&lt;-</span> fake_data <span class="sc">%&gt;%</span> </span>
<span id="cb369-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb369-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Institution_char, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb369-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb369-3" aria-hidden="true" tabindex="-1"></a>institution_distinct</span></code></pre></div>
<pre><code>## # A tibble: 4 x 13
##   PP_ID   Sex   Age Institution Grade_points Sex_char Institution_char
##   &lt;int&gt; &lt;dbl&gt; &lt;int&gt;       &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;           
## 1     1     1    19           3            0 Male     GCU             
## 2     2     1    22           1           20 Male     UoG             
## 3     4     1    29           4           20 Male     UWS             
## 4     5     1    16           2           11 Male     Strathclyde     
## # ... with 6 more variables: Sex_ifelse &lt;chr&gt;, Institution_ifelse &lt;chr&gt;,
## #   Pass_Fail &lt;chr&gt;, Grade &lt;chr&gt;, Institution_case_when &lt;chr&gt;,
## #   Grade_case_when &lt;chr&gt;</code></pre>
<p>In the new <code>institution_distinct</code> dataframe, we still have 4 institutions listed but we kept all 13 columns. If there are multiple rows with the same input (in this case 40 participants from 4 different institutions), <code>distinct()</code> only preserves the first row a new value occurs.</p>
<p>The <code>distinct()</code> function also allows you to eliminate duplicate rows with multiple variables in the dataframe. So if we wanted to see where participants were studying but also the different sexes taking part in the study, we would codeâ€¦</p>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb371-1" aria-hidden="true" tabindex="-1"></a>institution_sex_distinct <span class="ot">&lt;-</span> fake_data <span class="sc">%&gt;%</span> </span>
<span id="cb371-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb371-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(Institution_char, Sex_char)</span>
<span id="cb371-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb371-3" aria-hidden="true" tabindex="-1"></a>institution_sex_distinct</span></code></pre></div>
<pre><code>## # A tibble: 10 x 2
##    Sex_char Institution_char
##    &lt;chr&gt;    &lt;chr&gt;           
##  1 Male     GCU             
##  2 Male     UoG             
##  3 Male     UWS             
##  4 Male     Strathclyde     
##  5 Female   Strathclyde     
##  6 Female   GCU             
##  7 Female   UWS             
##  8 Female   UoG             
##  9 Other    Strathclyde     
## 10 Other    UoG</code></pre>
<p><code>institution_sex_distinct</code> has 10 observations, so that means, we have at least 1 male and 1 female participant from each of the 4 institutions. Additionally, Strathclyde and Glasgow have participants classifying as neither male nor female (here coded as â€œOtherâ€).</p>
<div class="question">
<p>
You can see they are not sorted by either of the column. Why is
that?
</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="solved">
<p>
The values are sorted by occurrence. R goes through the tibble row by
row to determine whether the values are distinct from the ones in the
row before. So if you look at your original dataframe
<code>fake_data</code>, you can see the first row is a male participant
from Glasgow Caledonian University. The participant in row 2 is from the
University of Glasgow, but so is participant 3 (which means he is not
listed in the distinct tibble). The next unique value would be detected
in row 4, then in row 7, then in row 18, 20, 22, 23, 38, and 39.
</p>
</div>
</div>
</div>
<div id="recap" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Recap<a href="data-transformation-4-fine-tuned-data-manipulation.html#recap" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Letâ€™s just have some fun with <code>fake_data</code> whilst recapping a little bit of what we did in the past 5 weeks.</p>
<div id="question-1" class="section level3 hasAnchor" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> Question 1<a href="data-transformation-4-fine-tuned-data-manipulation.html#question-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Select the variables <code>PP_ID</code>, <code>Sex_char</code>, <code>Age</code>, <code>Institution_char</code>, <code>Grade_points</code>, <code>Grade</code>, and <code>Pass_Fail</code> from <code>fake_data</code>and save it as <code>fake_data</code> in your Global Environment (i.e.Â overwrite/replace <code>fake_data</code>). Rename the following variables in the process:</p>
<ul>
<li><code>PP_ID</code> as <code>Participant_ID</code></li>
<li><code>Sex_char</code> as <code>Sex</code></li>
<li><code>Institution_char</code> as <code>Institution</code></li>
</ul>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb373-1" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb374-1" aria-hidden="true" tabindex="-1"></a><span class="co"># solution using select:</span></span>
<span id="cb374-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb374-2" aria-hidden="true" tabindex="-1"></a>fake_data <span class="ot">&lt;-</span> fake_data <span class="sc">%&gt;%</span> </span>
<span id="cb374-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb374-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="at">Participant_ID =</span> PP_ID, <span class="at">Sex =</span> Sex_char, Age, <span class="at">Institution =</span> Institution_char, Grade_points, Grade, Pass_Fail)</span>
<span id="cb374-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb374-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb374-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb374-5" aria-hidden="true" tabindex="-1"></a>fake_data</span></code></pre></div>
<pre><code>## # A tibble: 40 x 7
##    Participant_ID Sex     Age Institution Grade_points Grade Pass_Fail
##             &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    
##  1              1 Male     19 GCU                    0 H     Fail     
##  2              2 Male     22 UoG                   20 A     Pass     
##  3              3 Male     24 UoG                   15 B     Pass     
##  4              4 Male     29 UWS                   20 A     Pass     
##  5              5 Male     16 Strathclyde           11 D     Pass     
##  6              6 Male     25 GCU                   22 A     Pass     
##  7              7 Male     37 UoG                   21 A     Pass     
##  8              8 Male     18 UWS                    9 D     Fail     
##  9              9 Male     38 GCU                   13 C     Pass     
## 10             10 Male     39 UWS                   22 A     Pass     
## # ... with 30 more rows</code></pre>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb376-1" aria-hidden="true" tabindex="-1"></a><span class="co"># solution involving select and rename:</span></span>
<span id="cb376-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb376-2" aria-hidden="true" tabindex="-1"></a><span class="co"># fake_data &lt;- fake_data %&gt;% </span></span>
<span id="cb376-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb376-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(PP_ID, Sex_char, Age, Institution_char, Grade_points, Grade, Pass_Fail) %&gt;%</span></span>
<span id="cb376-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb376-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   rename(Participant_ID = PP_ID, Sex = Sex_char, Institution = Institution_char)</span></span></code></pre></div>
</div>
</div>
<div id="question-2" class="section level3 hasAnchor" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> Question 2<a href="data-transformation-4-fine-tuned-data-manipulation.html#question-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Calculate the average grade points for each University. Store the output as a new object <code>grade_points</code> in your <code>Global Environment</code>. The new column should be named <code>Average_grade_points</code>.</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb377-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb377-1" aria-hidden="true" tabindex="-1"></a>grade_points <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb378-1" aria-hidden="true" tabindex="-1"></a>grade_points <span class="ot">&lt;-</span> fake_data <span class="sc">%&gt;%</span> </span>
<span id="cb378-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb378-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Institution) <span class="sc">%&gt;%</span> </span>
<span id="cb378-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb378-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Average_grade_points =</span> <span class="fu">mean</span>(Grade_points)) <span class="sc">%&gt;%</span> </span>
<span id="cb378-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb378-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb378-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb378-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb378-6"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb378-6" aria-hidden="true" tabindex="-1"></a>grade_points</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   Institution Average_grade_points
##   &lt;chr&gt;                      &lt;dbl&gt;
## 1 GCU                         15.8
## 2 Strathclyde                 16.8
## 3 UoG                         18  
## 4 UWS                         14.1</code></pre>
</div>
</div>
<div id="question-3" class="section level3 hasAnchor" number="6.5.3">
<h3><span class="header-section-number">6.5.3</span> Question 3<a href="data-transformation-4-fine-tuned-data-manipulation.html#question-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Join the <code>fake_data</code> and <code>grade_points</code>, and calculate how much each person differs from the mean of their university. Results should be stored in a column named <code>grade_diff</code>. Store the output in your <code>Global Environment</code> as a new object called <code>fake_data_meandiff</code>. Sort the data by <code>Institution</code> and <code>Sex</code>.</p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb380-1" aria-hidden="true" tabindex="-1"></a>fake_data_meandiff <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb381"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb381-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb381-1" aria-hidden="true" tabindex="-1"></a>fake_data_meandiff <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fake_data, grade_points) <span class="sc">%&gt;%</span> </span>
<span id="cb381-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb381-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grade_diff =</span> Grade_points <span class="sc">-</span> Average_grade_points) <span class="sc">%&gt;%</span> </span>
<span id="cb381-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb381-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Institution, Sex)</span></code></pre></div>
<pre><code>## Joining, by = &quot;Institution&quot;</code></pre>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb383-1" aria-hidden="true" tabindex="-1"></a>fake_data_meandiff</span></code></pre></div>
<pre><code>## # A tibble: 40 x 9
##    Participant_ID Sex      Age Institution Grade_points Grade Pass_Fail
##             &lt;int&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    
##  1             20 Female    34 GCU                   20 A     Pass     
##  2             21 Female    27 GCU                   10 D     Pass     
##  3             28 Female    39 GCU                   16 B     Pass     
##  4             36 Female    16 GCU                   21 A     Pass     
##  5              1 Male      19 GCU                    0 H     Fail     
##  6              6 Male      25 GCU                   22 A     Pass     
##  7              9 Male      38 GCU                   13 C     Pass     
##  8             11 Male      30 GCU                   19 A     Pass     
##  9             16 Male      26 GCU                   17 B     Pass     
## 10             17 Male      33 GCU                   20 A     Pass     
## # ... with 30 more rows, and 2 more variables: Average_grade_points &lt;dbl&gt;,
## #   grade_diff &lt;dbl&gt;</code></pre>
</div>
</div>
<div id="question-4" class="section level3 hasAnchor" number="6.5.4">
<h3><span class="header-section-number">6.5.4</span> Question 4<a href="data-transformation-4-fine-tuned-data-manipulation.html#question-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Our colleague is interested in what the grade point average for each university would be if we were only looking at the students who passed the R assignment initially (i.e.Â grade points above 9). Store the output in your <code>Global Environment</code> as a new object called <code>fake_data_pass</code>.</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb385-1" aria-hidden="true" tabindex="-1"></a>fake_data_pass <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter Grade_points</span></span>
<span id="cb386-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-2" aria-hidden="true" tabindex="-1"></a>fake_data_pass <span class="ot">&lt;-</span> fake_data <span class="sc">%&gt;%</span> </span>
<span id="cb386-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Grade_points <span class="sc">&gt;</span> <span class="dv">9</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb386-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Institution) <span class="sc">%&gt;%</span> </span>
<span id="cb386-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Average_grade_points_pass =</span> <span class="fu">mean</span>(Grade_points)) <span class="sc">%&gt;%</span> </span>
<span id="cb386-6"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb386-7"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb386-8"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-8" aria-hidden="true" tabindex="-1"></a><span class="co"># filter Pass_Fail</span></span>
<span id="cb386-9"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-9" aria-hidden="true" tabindex="-1"></a>fake_data_pass <span class="ot">&lt;-</span> fake_data <span class="sc">%&gt;%</span> </span>
<span id="cb386-10"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Pass_Fail <span class="sc">==</span> <span class="st">&quot;Pass&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb386-11"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Institution) <span class="sc">%&gt;%</span> </span>
<span id="cb386-12"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Average_grade_points_pass =</span> <span class="fu">mean</span>(Grade_points)) <span class="sc">%&gt;%</span> </span>
<span id="cb386-13"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb386-14"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb386-15"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb386-15" aria-hidden="true" tabindex="-1"></a>fake_data_pass</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   Institution Average_grade_points_pass
##   &lt;chr&gt;                           &lt;dbl&gt;
## 1 GCU                              17.6
## 2 Strathclyde                      16.8
## 3 UoG                              18  
## 4 UWS                              16.5</code></pre>
</div>
</div>
<div id="question-5" class="section level3 hasAnchor" number="6.5.5">
<h3><span class="header-section-number">6.5.5</span> Question 5<a href="data-transformation-4-fine-tuned-data-manipulation.html#question-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now our colleague wants to know whether the males or the females did better at each university. They are asking for a table with 4 columns in which the first column titled <code>Institution</code> lists the university, the second column is called <code>Males</code> for the average grade point scores of the males at each institution, the third column called <code>Females</code> with average grade point scores for the females, and the fourth column <code>Better</code> should say <code>"female"</code> or <code>"male"</code> if the females or males had higher grade points respectively. Store the output in your <code>Global Environment</code> as a new object called <code>fake_data_sex</code>. Use <code>fake_data</code> as the reference dataframe.</p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb388-1" aria-hidden="true" tabindex="-1"></a>fake_data_sex <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb389-1" aria-hidden="true" tabindex="-1"></a>fake_data_sex <span class="ot">&lt;-</span> fake_data <span class="sc">%&gt;%</span> </span>
<span id="cb389-2"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb389-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sex <span class="sc">!=</span> <span class="st">&quot;Other&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># this step could actually be left out</span></span>
<span id="cb389-3"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb389-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Institution, Sex) <span class="sc">%&gt;%</span> </span>
<span id="cb389-4"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb389-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Average_gp =</span> <span class="fu">mean</span>(Grade_points)) <span class="sc">%&gt;%</span> </span>
<span id="cb389-5"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb389-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb389-6"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb389-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(Sex, Average_gp) <span class="sc">%&gt;%</span> </span>
<span id="cb389-7"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb389-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Institution, <span class="at">Males =</span> Male, <span class="at">Females =</span> Female) <span class="sc">%&gt;%</span> </span>
<span id="cb389-8"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb389-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Better =</span> <span class="fu">ifelse</span>(Males <span class="sc">&gt;</span> Females, <span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>))</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;Institution&#39;. You can override using the
## `.groups` argument.</code></pre>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="data-transformation-4-fine-tuned-data-manipulation.html#cb391-1" aria-hidden="true" tabindex="-1"></a>fake_data_sex</span></code></pre></div>
<pre><code>## # A tibble: 4 x 4
##   Institution Males Females Better
##   &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; 
## 1 GCU          15.2    16.8 female
## 2 Strathclyde  11.5    18.2 female
## 3 UoG          18.7    17.8 male  
## 4 UWS          12.3    16.8 female</code></pre>
</div>
</div>
</div>
<div id="summative-homework-2" class="section level2 hasAnchor" number="6.6">
<h2><span class="header-section-number">6.6</span> Summative Homework<a href="data-transformation-4-fine-tuned-data-manipulation.html#summative-homework-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The third summative assignment is available on moodle now.</p>
<p>Good luck.</p>
<p>Check that your Rmd file knits into a html file before submitting. Upload your Rmd file (not the knitted html) to moodle.</p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>

            </section>

          </div>
        </div>
      </div>
<a href="data-transformation-3-tidy-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualisation-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
